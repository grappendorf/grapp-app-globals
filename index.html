<!DOCTYPE html>
<html>

<head>
  <title>grapp-app-globals web component</title>
  <script src='lib/webcomponentsjs/webcomponents-lite.min.js'></script>
  <link href="build/grapp-app-globals.html" rel="import">
</head>

<body>

  <h1>grapp-app-globals web component</h1>

  <h2>A web component for setting/getting global values</h2>

  <p>
    <a href="test/index.html">Click here to run the tests...</a>
  </p>
  <p>
    <a href="README.md">Click here to read the documentation...</a>
  </p>
  <p>
    <a href="CHANGELOG.md">Click here to read the changelog...</a>
  </p>

  <h2>Demo</h2>

  <template is="dom-bind">

    <h3>Set a global value</h3>

    <p>
      &lt;grapp-app-globals&gt;<br>
      &nbsp;&nbsp;&lt;grapp-app-globals-set key"foo" value="bar"&gt;&lt;/grapp-app-globals-set&gt;<br>
      &nbsp;&nbsp;&lt;grapp-app-globals-set key"time" value="[[time]]"&gt;&lt;/grapp-app-globals-set&gt;<br>
      &lt;/grapp-app-globals&gt;
    </p>

    <grapp-app-globals>
      <grapp-app-globals-set key="foo" value="bar"></grapp-app-globals-set>
      <grapp-app-globals-set key="time" value="[[time]]"></grapp-app-globals-set>
    </grapp-app-globals>

    <h3>Get a global value</h3>

    <grapp-app-globals id="globals">
      <grapp-app-globals-get key="foo" value="{{foo}}"></grapp-app-globals-get>
      <grapp-app-globals-get key="time" value="{{currentTime}}"></grapp-app-globals-get>
    </grapp-app-globals>

    <p>
      &lt;grapp-app-globals id="globals"&gt;<br>
      &nbsp;&nbsp;&lt;grapp-app-globals-get key="foo" value="{{foo}}"&gt;&lt;/grapp-app-globals-get&gt;<br>
      &nbsp;&nbsp;&lt;grapp-app-globals-get key="time" value="{{currentTime}}"&gt;&lt;/grapp-app-globals-get&gt;<br>
      &lt;/grapp-app-globals&gt;<br>
      <br>
      [ [ foo ] ] => <b>[[foo]]</b><br>
      [ [ currentTime ] ] => <b>[[currentTime]]</b>
    </p>

    <p>
      The time property is regularily updated by a setInterval() function.
    </p>

  </template>

  <script>
    document.addEventListener('WebComponentsReady', function() {
      var t = document.querySelector('template');
      t.time = '?';
      setInterval(function () {
        t.time = new Date().toLocaleTimeString();
      }, 1000);
      console.log(document.querySelector('#globals').getValue('foo'));
    })
  </script>

  <script src="//localhost:35729/livereload.js"></script>

</body>
